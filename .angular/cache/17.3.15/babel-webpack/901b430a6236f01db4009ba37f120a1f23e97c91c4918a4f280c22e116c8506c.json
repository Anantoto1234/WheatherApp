{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/weather.service\";\nimport * as i2 from \"@angular/common\";\nfunction AppComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.currentWeather.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Nhi\\u1EC7t \\u0111\\u1ED9: \", ctx_r0.currentWeather.main.temp, \"\\u00B0C\");\n  }\n}\nfunction AppComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\", 2);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\nexport class AppComponent {\n  constructor(weatherService) {\n    this.weatherService = weatherService;\n    this.currentWeather = null;\n    this.forecast = null;\n    this.city = 'Hanoi';\n    this.loading = false;\n    this.error = null;\n  }\n  ngOnInit() {\n    this.getWeather();\n  }\n  getWeather() {\n    this.loading = true;\n    this.error = null;\n    this.weatherService.getCurrentWeather(this.city).subscribe({\n      next: data => {\n        this.currentWeather = data;\n        this.loading = false;\n      },\n      error: error => {\n        this.error = 'Không thể tải dữ liệu thời tiết. Vui lòng kiểm tra tên thành phố.';\n        this.loading = false;\n        console.error('Error fetching current weather:', error);\n      }\n    });\n    this.weatherService.getForecast(this.city).subscribe({\n      next: data => {\n        this.forecast = data;\n      },\n      error: error => {\n        console.error('Error fetching forecast:', error);\n      }\n    });\n  }\n  onCityChange() {\n    if (this.city.trim()) {\n      this.getWeather();\n    }\n  }\n  getWeatherIcon(icon) {\n    return `https://openweathermap.org/img/wn/${icon}@2x.png`;\n  }\n  getForecastForNextDays() {\n    if (!this.forecast) return [];\n    const today = new Date();\n    const nextDays = [];\n    for (let i = 1; i <= 5; i++) {\n      const targetDate = new Date(today);\n      targetDate.setDate(today.getDate() + i);\n      const dayForecasts = this.forecast.list.filter(item => {\n        const itemDate = new Date(item.dt * 1000);\n        return itemDate.getDate() === targetDate.getDate() && itemDate.getMonth() === targetDate.getMonth();\n      });\n      if (dayForecasts.length > 0) {\n        nextDays.push(dayForecasts[0]);\n      }\n    }\n    return nextDays;\n  }\n  formatDate(timestamp) {\n    const date = new Date(timestamp * 1000);\n    return date.toLocaleDateString('vi-VN', {\n      weekday: 'long',\n      day: 'numeric',\n      month: 'long'\n    });\n  }\n  static {\n    this.ɵfac = function AppComponent_Factory(t) {\n      return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.WeatherService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AppComponent,\n      selectors: [[\"app-root\"]],\n      decls: 7,\n      vars: 2,\n      consts: [[1, \"weather-app\"], [4, \"ngIf\"], [2, \"color\", \"red\"]],\n      template: function AppComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n          i0.ɵɵtext(2, \"\\uD83C\\uDF24\\uFE0F Weather App\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"p\");\n          i0.ɵɵtext(4, \"\\u0110ang t\\u1EA3i...\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(5, AppComponent_div_5_Template, 5, 2, \"div\", 1)(6, AppComponent_div_6_Template, 3, 1, \"div\", 1);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.currentWeather);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n        }\n      },\n      dependencies: [i2.NgIf],\n      styles: [\"*[_ngcontent-%COMP%] {\\n  margin: 0;\\n  padding: 0;\\n  box-sizing: border-box;\\n}\\n\\nbody[_ngcontent-%COMP%] {\\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n  background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);\\n  min-height: 100vh;\\n}\\n\\n.weather-app[_ngcontent-%COMP%] {\\n  max-width: 1200px;\\n  margin: 0 auto;\\n  padding: 20px;\\n  min-height: 100vh;\\n}\\n\\n.header[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-bottom: 30px;\\n  color: white;\\n}\\n\\n.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  font-size: 2.5rem;\\n  margin-bottom: 20px;\\n  text-shadow: 2px 2px 4px rgba(0,0,0,0.3);\\n}\\n\\n.search-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  gap: 10px;\\n  max-width: 400px;\\n  margin: 0 auto;\\n}\\n\\n.city-input[_ngcontent-%COMP%] {\\n  flex: 1;\\n  padding: 12px 16px;\\n  border: none;\\n  border-radius: 25px;\\n  font-size: 16px;\\n  outline: none;\\n  box-shadow: 0 4px 6px rgba(0,0,0,0.1);\\n}\\n\\n.search-btn[_ngcontent-%COMP%] {\\n  padding: 12px 24px;\\n  background: #00b894;\\n  color: white;\\n  border: none;\\n  border-radius: 25px;\\n  cursor: pointer;\\n  font-size: 16px;\\n  font-weight: bold;\\n  transition: background 0.3s ease;\\n  box-shadow: 0 4px 6px rgba(0,0,0,0.1);\\n}\\n\\n.search-btn[_ngcontent-%COMP%]:hover {\\n  background: #00a085;\\n}\\n\\n.main-content[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 30px;\\n}\\n\\n.loading[_ngcontent-%COMP%] {\\n  text-align: center;\\n  color: white;\\n  font-size: 1.2rem;\\n}\\n\\n.spinner[_ngcontent-%COMP%] {\\n  width: 40px;\\n  height: 40px;\\n  border: 4px solid rgba(255,255,255,0.3);\\n  border-top: 4px solid white;\\n  border-radius: 50%;\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n  margin: 0 auto 20px;\\n}\\n\\n@keyframes _ngcontent-%COMP%_spin {\\n  0% { transform: rotate(0deg); }\\n  100% { transform: rotate(360deg); }\\n}\\n\\n.error[_ngcontent-%COMP%] {\\n  background: #e74c3c;\\n  color: white;\\n  padding: 20px;\\n  border-radius: 10px;\\n  text-align: center;\\n  font-size: 1.1rem;\\n  box-shadow: 0 4px 6px rgba(0,0,0,0.1);\\n}\\n\\n.current-weather[_ngcontent-%COMP%] {\\n  background: rgba(255,255,255,0.95);\\n  border-radius: 20px;\\n  padding: 30px;\\n  box-shadow: 0 10px 30px rgba(0,0,0,0.2);\\n  -webkit-backdrop-filter: blur(10px);\\n          backdrop-filter: blur(10px);\\n}\\n\\n.current-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 2rem;\\n  color: #2d3436;\\n  margin-bottom: 20px;\\n  text-align: center;\\n}\\n\\n.temperature[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 30px;\\n}\\n\\n.temp-value[_ngcontent-%COMP%] {\\n  font-size: 4rem;\\n  font-weight: bold;\\n  color: #0984e3;\\n  text-shadow: 2px 2px 4px rgba(0,0,0,0.1);\\n}\\n\\n.weather-details[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  gap: 10px;\\n}\\n\\n.weather-icon[_ngcontent-%COMP%] {\\n  width: 80px;\\n  height: 80px;\\n}\\n\\n.weather-desc[_ngcontent-%COMP%] {\\n  font-size: 1.2rem;\\n  color: #636e72;\\n  text-transform: capitalize;\\n  text-align: center;\\n}\\n\\n.weather-stats[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\\n  gap: 20px;\\n}\\n\\n.stat[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 15px;\\n  background: #f8f9fa;\\n  border-radius: 10px;\\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\\n}\\n\\n.stat-label[_ngcontent-%COMP%] {\\n  color: #636e72;\\n  font-weight: 500;\\n}\\n\\n.stat-value[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  color: #2d3436;\\n  font-size: 1.1rem;\\n}\\n\\n.forecast[_ngcontent-%COMP%] {\\n  background: rgba(255,255,255,0.95);\\n  border-radius: 20px;\\n  padding: 30px;\\n  box-shadow: 0 10px 30px rgba(0,0,0,0.2);\\n  -webkit-backdrop-filter: blur(10px);\\n          backdrop-filter: blur(10px);\\n}\\n\\n.forecast[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 1.8rem;\\n  color: #2d3436;\\n  margin-bottom: 20px;\\n  text-align: center;\\n}\\n\\n.forecast-list[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\\n  gap: 15px;\\n}\\n\\n.forecast-item[_ngcontent-%COMP%] {\\n  background: #f8f9fa;\\n  border-radius: 15px;\\n  padding: 20px;\\n  text-align: center;\\n  box-shadow: 0 4px 6px rgba(0,0,0,0.1);\\n  transition: transform 0.3s ease;\\n}\\n\\n.forecast-item[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-5px);\\n}\\n\\n.forecast-date[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  color: #2d3436;\\n  margin-bottom: 10px;\\n  font-size: 0.9rem;\\n}\\n\\n.forecast-weather[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  gap: 8px;\\n  margin-bottom: 15px;\\n}\\n\\n.forecast-icon[_ngcontent-%COMP%] {\\n  width: 50px;\\n  height: 50px;\\n}\\n\\n.forecast-desc[_ngcontent-%COMP%] {\\n  font-size: 0.9rem;\\n  color: #636e72;\\n  text-transform: capitalize;\\n}\\n\\n.forecast-temps[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n.temp-max[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  color: #e17055;\\n  font-size: 1.1rem;\\n}\\n\\n.temp-min[_ngcontent-%COMP%] {\\n  color: #74b9ff;\\n  font-size: 1rem;\\n}\\n\\n@media (max-width: 768px) {\\n  .weather-app[_ngcontent-%COMP%] {\\n    padding: 10px;\\n  }\\n  \\n  .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n    font-size: 2rem;\\n  }\\n  \\n  .search-container[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    max-width: 300px;\\n  }\\n  \\n  .temperature[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    gap: 20px;\\n  }\\n  \\n  .temp-value[_ngcontent-%COMP%] {\\n    font-size: 3rem;\\n  }\\n  \\n  .weather-stats[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n  }\\n  \\n  .forecast-list[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxTQUFTO0VBQ1QsVUFBVTtFQUNWLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLDREQUE0RDtFQUM1RCw2REFBNkQ7RUFDN0QsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCxhQUFhO0VBQ2IsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLHdDQUF3QztBQUMxQzs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsU0FBUztFQUNULGdCQUFnQjtFQUNoQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsT0FBTztFQUNQLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixhQUFhO0VBQ2IscUNBQXFDO0FBQ3ZDOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQixZQUFZO0VBQ1osWUFBWTtFQUNaLG1CQUFtQjtFQUNuQixlQUFlO0VBQ2YsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixnQ0FBZ0M7RUFDaEMscUNBQXFDO0FBQ3ZDOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsWUFBWTtFQUNaLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0VBQ1osdUNBQXVDO0VBQ3ZDLDJCQUEyQjtFQUMzQixrQkFBa0I7RUFDbEIsa0NBQWtDO0VBQ2xDLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLEtBQUssdUJBQXVCLEVBQUU7RUFDOUIsT0FBTyx5QkFBeUIsRUFBRTtBQUNwQzs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixZQUFZO0VBQ1osYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixrQkFBa0I7RUFDbEIsaUJBQWlCO0VBQ2pCLHFDQUFxQztBQUN2Qzs7QUFFQTtFQUNFLGtDQUFrQztFQUNsQyxtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLHVDQUF1QztFQUN2QyxtQ0FBMkI7VUFBM0IsMkJBQTJCO0FBQzdCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGNBQWM7RUFDZCxtQkFBbUI7RUFDbkIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixtQkFBbUI7RUFDbkIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixjQUFjO0VBQ2Qsd0NBQXdDO0FBQzFDOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixtQkFBbUI7RUFDbkIsU0FBUztBQUNYOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixjQUFjO0VBQ2QsMEJBQTBCO0VBQzFCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGFBQWE7RUFDYiwyREFBMkQ7RUFDM0QsU0FBUztBQUNYOztBQUVBO0VBQ0UsYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixtQkFBbUI7RUFDbkIscUNBQXFDO0FBQ3ZDOztBQUVBO0VBQ0UsY0FBYztFQUNkLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixjQUFjO0VBQ2QsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0Usa0NBQWtDO0VBQ2xDLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsdUNBQXVDO0VBQ3ZDLG1DQUEyQjtVQUEzQiwyQkFBMkI7QUFDN0I7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsY0FBYztFQUNkLG1CQUFtQjtFQUNuQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsMkRBQTJEO0VBQzNELFNBQVM7QUFDWDs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQixxQ0FBcUM7RUFDckMsK0JBQStCO0FBQ2pDOztBQUVBO0VBQ0UsMkJBQTJCO0FBQzdCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCxtQkFBbUI7RUFDbkIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixtQkFBbUI7RUFDbkIsUUFBUTtFQUNSLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsY0FBYztFQUNkLDBCQUEwQjtBQUM1Qjs7QUFFQTtFQUNFLGFBQWE7RUFDYiw4QkFBOEI7RUFDOUIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxjQUFjO0VBQ2QsZUFBZTtBQUNqQjs7QUFFQTtFQUNFO0lBQ0UsYUFBYTtFQUNmOztFQUVBO0lBQ0UsZUFBZTtFQUNqQjs7RUFFQTtJQUNFLHNCQUFzQjtJQUN0QixnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSxzQkFBc0I7SUFDdEIsU0FBUztFQUNYOztFQUVBO0lBQ0UsZUFBZTtFQUNqQjs7RUFFQTtJQUNFLDBCQUEwQjtFQUM1Qjs7RUFFQTtJQUNFLDBCQUEwQjtFQUM1QjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiKiB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cblxuYm9keSB7XG4gIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzc0YjlmZiAwJSwgIzA5ODRlMyAxMDAlKTtcbiAgbWluLWhlaWdodDogMTAwdmg7XG59XG5cbi53ZWF0aGVyLWFwcCB7XG4gIG1heC13aWR0aDogMTIwMHB4O1xuICBtYXJnaW46IDAgYXV0bztcbiAgcGFkZGluZzogMjBweDtcbiAgbWluLWhlaWdodDogMTAwdmg7XG59XG5cbi5oZWFkZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDMwcHg7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLmhlYWRlciBoMSB7XG4gIGZvbnQtc2l6ZTogMi41cmVtO1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICB0ZXh0LXNoYWRvdzogMnB4IDJweCA0cHggcmdiYSgwLDAsMCwwLjMpO1xufVxuXG4uc2VhcmNoLWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBnYXA6IDEwcHg7XG4gIG1heC13aWR0aDogNDAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xufVxuXG4uY2l0eS1pbnB1dCB7XG4gIGZsZXg6IDE7XG4gIHBhZGRpbmc6IDEycHggMTZweDtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItcmFkaXVzOiAyNXB4O1xuICBmb250LXNpemU6IDE2cHg7XG4gIG91dGxpbmU6IG5vbmU7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDAsMCwwLDAuMSk7XG59XG5cbi5zZWFyY2gtYnRuIHtcbiAgcGFkZGluZzogMTJweCAyNHB4O1xuICBiYWNrZ3JvdW5kOiAjMDBiODk0O1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogMjVweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBmb250LXNpemU6IDE2cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuM3MgZWFzZTtcbiAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwwLDAsMC4xKTtcbn1cblxuLnNlYXJjaC1idG46aG92ZXIge1xuICBiYWNrZ3JvdW5kOiAjMDBhMDg1O1xufVxuXG4ubWFpbi1jb250ZW50IHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiAzMHB4O1xufVxuXG4ubG9hZGluZyB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDEuMnJlbTtcbn1cblxuLnNwaW5uZXIge1xuICB3aWR0aDogNDBweDtcbiAgaGVpZ2h0OiA0MHB4O1xuICBib3JkZXI6IDRweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMyk7XG4gIGJvcmRlci10b3A6IDRweCBzb2xpZCB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBhbmltYXRpb246IHNwaW4gMXMgbGluZWFyIGluZmluaXRlO1xuICBtYXJnaW46IDAgYXV0byAyMHB4O1xufVxuXG5Aa2V5ZnJhbWVzIHNwaW4ge1xuICAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XG4gIDEwMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9XG59XG5cbi5lcnJvciB7XG4gIGJhY2tncm91bmQ6ICNlNzRjM2M7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgcGFkZGluZzogMjBweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDEuMXJlbTtcbiAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwwLDAsMC4xKTtcbn1cblxuLmN1cnJlbnQtd2VhdGhlciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC45NSk7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gIHBhZGRpbmc6IDMwcHg7XG4gIGJveC1zaGFkb3c6IDAgMTBweCAzMHB4IHJnYmEoMCwwLDAsMC4yKTtcbiAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpO1xufVxuXG4uY3VycmVudC1pbmZvIGgyIHtcbiAgZm9udC1zaXplOiAycmVtO1xuICBjb2xvcjogIzJkMzQzNjtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4udGVtcGVyYXR1cmUge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDMwcHg7XG59XG5cbi50ZW1wLXZhbHVlIHtcbiAgZm9udC1zaXplOiA0cmVtO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6ICMwOTg0ZTM7XG4gIHRleHQtc2hhZG93OiAycHggMnB4IDRweCByZ2JhKDAsMCwwLDAuMSk7XG59XG5cbi53ZWF0aGVyLWRldGFpbHMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDEwcHg7XG59XG5cbi53ZWF0aGVyLWljb24ge1xuICB3aWR0aDogODBweDtcbiAgaGVpZ2h0OiA4MHB4O1xufVxuXG4ud2VhdGhlci1kZXNjIHtcbiAgZm9udC1zaXplOiAxLjJyZW07XG4gIGNvbG9yOiAjNjM2ZTcyO1xuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4ud2VhdGhlci1zdGF0cyB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjAwcHgsIDFmcikpO1xuICBnYXA6IDIwcHg7XG59XG5cbi5zdGF0IHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBwYWRkaW5nOiAxNXB4O1xuICBiYWNrZ3JvdW5kOiAjZjhmOWZhO1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLDAsMCwwLjEpO1xufVxuXG4uc3RhdC1sYWJlbCB7XG4gIGNvbG9yOiAjNjM2ZTcyO1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG4uc3RhdC12YWx1ZSB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogIzJkMzQzNjtcbiAgZm9udC1zaXplOiAxLjFyZW07XG59XG5cbi5mb3JlY2FzdCB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC45NSk7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gIHBhZGRpbmc6IDMwcHg7XG4gIGJveC1zaGFkb3c6IDAgMTBweCAzMHB4IHJnYmEoMCwwLDAsMC4yKTtcbiAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpO1xufVxuXG4uZm9yZWNhc3QgaDMge1xuICBmb250LXNpemU6IDEuOHJlbTtcbiAgY29sb3I6ICMyZDM0MzY7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmZvcmVjYXN0LWxpc3Qge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKTtcbiAgZ2FwOiAxNXB4O1xufVxuXG4uZm9yZWNhc3QtaXRlbSB7XG4gIGJhY2tncm91bmQ6ICNmOGY5ZmE7XG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwwLDAsMC4xKTtcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MgZWFzZTtcbn1cblxuLmZvcmVjYXN0LWl0ZW06aG92ZXIge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7XG59XG5cbi5mb3JlY2FzdC1kYXRlIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMmQzNDM2O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBmb250LXNpemU6IDAuOXJlbTtcbn1cblxuLmZvcmVjYXN0LXdlYXRoZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDhweDtcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcbn1cblxuLmZvcmVjYXN0LWljb24ge1xuICB3aWR0aDogNTBweDtcbiAgaGVpZ2h0OiA1MHB4O1xufVxuXG4uZm9yZWNhc3QtZGVzYyB7XG4gIGZvbnQtc2l6ZTogMC45cmVtO1xuICBjb2xvcjogIzYzNmU3MjtcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG59XG5cbi5mb3JlY2FzdC10ZW1wcyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLnRlbXAtbWF4IHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjZTE3MDU1O1xuICBmb250LXNpemU6IDEuMXJlbTtcbn1cblxuLnRlbXAtbWluIHtcbiAgY29sb3I6ICM3NGI5ZmY7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbn1cblxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIC53ZWF0aGVyLWFwcCB7XG4gICAgcGFkZGluZzogMTBweDtcbiAgfVxuICBcbiAgLmhlYWRlciBoMSB7XG4gICAgZm9udC1zaXplOiAycmVtO1xuICB9XG4gIFxuICAuc2VhcmNoLWNvbnRhaW5lciB7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBtYXgtd2lkdGg6IDMwMHB4O1xuICB9XG4gIFxuICAudGVtcGVyYXR1cmUge1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZ2FwOiAyMHB4O1xuICB9XG4gIFxuICAudGVtcC12YWx1ZSB7XG4gICAgZm9udC1zaXplOiAzcmVtO1xuICB9XG4gIFxuICAud2VhdGhlci1zdGF0cyB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG4gIH1cbiAgXG4gIC5mb3JlY2FzdC1saXN0IHtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","currentWeather","name","ɵɵtextInterpolate1","main","temp","error","AppComponent","constructor","weatherService","forecast","city","loading","ngOnInit","getWeather","getCurrentWeather","subscribe","next","data","console","getForecast","onCityChange","trim","getWeatherIcon","icon","getForecastForNextDays","today","Date","nextDays","i","targetDate","setDate","getDate","dayForecasts","list","filter","item","itemDate","dt","getMonth","length","push","formatDate","timestamp","date","toLocaleDateString","weekday","day","month","ɵɵdirectiveInject","i1","WeatherService","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵtemplate","AppComponent_div_5_Template","AppComponent_div_6_Template","ɵɵproperty"],"sources":["/Users/haphan/Documents/Learning/angular-web/src/app/app.component.ts","/Users/haphan/Documents/Learning/angular-web/src/app/app.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { WeatherService } from './services/weather.service';\nimport { CurrentWeather, Forecast, ForecastItem } from './models/weather.model';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  currentWeather: CurrentWeather | null = null;\n  forecast: Forecast | null = null;\n  city: string = 'Hanoi';\n  loading = false;\n  error: string | null = null;\n\n  constructor(private weatherService: WeatherService) {}\n\n  ngOnInit() {\n    this.getWeather();\n  }\n\n  getWeather() {\n    this.loading = true;\n    this.error = null;\n    \n    this.weatherService.getCurrentWeather(this.city).subscribe({\n      next: (data) => {\n        this.currentWeather = data;\n        this.loading = false;\n      },\n      error: (error) => {\n        this.error = 'Không thể tải dữ liệu thời tiết. Vui lòng kiểm tra tên thành phố.';\n        this.loading = false;\n        console.error('Error fetching current weather:', error);\n      }\n    });\n\n    this.weatherService.getForecast(this.city).subscribe({\n      next: (data) => {\n        this.forecast = data;\n      },\n      error: (error) => {\n        console.error('Error fetching forecast:', error);\n      }\n    });\n  }\n\n  onCityChange() {\n    if (this.city.trim()) {\n      this.getWeather();\n    }\n  }\n\n  getWeatherIcon(icon: string): string {\n    return `https://openweathermap.org/img/wn/${icon}@2x.png`;\n  }\n\n  getForecastForNextDays(): ForecastItem[] {\n    if (!this.forecast) return [];\n    \n    const today = new Date();\n    const nextDays = [];\n    \n    for (let i = 1; i <= 5; i++) {\n      const targetDate = new Date(today);\n      targetDate.setDate(today.getDate() + i);\n      \n      const dayForecasts = this.forecast.list.filter(item => {\n        const itemDate = new Date(item.dt * 1000);\n        return itemDate.getDate() === targetDate.getDate() && \n               itemDate.getMonth() === targetDate.getMonth();\n      });\n      \n      if (dayForecasts.length > 0) {\n        nextDays.push(dayForecasts[0]);\n      }\n    }\n    \n    return nextDays;\n  }\n\n  formatDate(timestamp: number): string {\n    const date = new Date(timestamp * 1000);\n    return date.toLocaleDateString('vi-VN', { \n      weekday: 'long', \n      day: 'numeric', \n      month: 'long' \n    });\n  }\n}\n","<div class=\"weather-app\">\n  <h1>🌤️ Weather App</h1>\n  <p>Đang tải...</p>\n  <div *ngIf=\"currentWeather\">\n    <h2>{{ currentWeather.name }}</h2>\n    <p>Nhiệt độ: {{ currentWeather.main.temp }}°C</p>\n  </div>\n  <div *ngIf=\"error\">\n    <p style=\"color: red;\">{{ error }}</p>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}