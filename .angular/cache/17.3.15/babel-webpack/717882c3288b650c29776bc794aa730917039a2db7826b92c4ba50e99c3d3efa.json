{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/weather.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction AppComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵelement(1, \"div\", 11);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u th\\u1EDDi ti\\u1EBFt...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AppComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\nfunction AppComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14)(2, \"h2\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 15)(5, \"span\", 16);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 17);\n    i0.ɵɵelement(9, \"img\", 18);\n    i0.ɵɵelementStart(10, \"p\", 19);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(12, \"div\", 20)(13, \"div\", 21)(14, \"span\", 22);\n    i0.ɵɵtext(15, \"C\\u1EA3m gi\\u00E1c nh\\u01B0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"span\", 23);\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 21)(20, \"span\", 22);\n    i0.ɵɵtext(21, \"\\u0110\\u1ED9 \\u1EA9m\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"span\", 23);\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 21)(25, \"span\", 22);\n    i0.ɵɵtext(26, \"\\u00C1p su\\u1EA5t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"span\", 23);\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"div\", 21)(30, \"span\", 22);\n    i0.ɵɵtext(31, \"T\\u1ED1c \\u0111\\u1ED9 gi\\u00F3\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"span\", 23);\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.currentWeather.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(7, 9, ctx_r0.currentWeather.main.temp, \"1.0-0\"), \"\\u00B0C\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", ctx_r0.getWeatherIcon(ctx_r0.currentWeather.weather[0].icon), i0.ɵɵsanitizeUrl)(\"alt\", ctx_r0.currentWeather.weather[0].description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.currentWeather.weather[0].description);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(18, 12, ctx_r0.currentWeather.main.feels_like, \"1.0-0\"), \"\\u00B0C\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.currentWeather.main.humidity, \"%\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.currentWeather.main.pressure, \" hPa\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.currentWeather.wind.speed, \" m/s\");\n  }\n}\nfunction AppComponent_div_12_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"div\", 28);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 29);\n    i0.ɵɵelement(4, \"img\", 30);\n    i0.ɵɵelementStart(5, \"span\", 31);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 32)(8, \"span\", 33);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"span\", 34);\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"number\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.formatDate(item_r2.dt));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r0.getWeatherIcon(item_r2.weather[0].icon), i0.ɵɵsanitizeUrl)(\"alt\", item_r2.weather[0].description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.weather[0].description);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(10, 6, item_r2.main.temp_max, \"1.0-0\"), \"\\u00B0\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(13, 9, item_r2.main.temp_min, \"1.0-0\"), \"\\u00B0\");\n  }\n}\nfunction AppComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"h3\");\n    i0.ɵɵtext(2, \"D\\u1EF1 b\\u00E1o 5 ng\\u00E0y t\\u1EDBi\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 25);\n    i0.ɵɵtemplate(4, AppComponent_div_12_div_4_Template, 14, 12, \"div\", 26);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.getForecastForNextDays());\n  }\n}\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(weatherService) {\n      this.weatherService = weatherService;\n      this.currentWeather = null;\n      this.forecast = null;\n      this.city = 'Hanoi';\n      this.loading = false;\n      this.error = null;\n    }\n    ngOnInit() {\n      this.getWeather();\n    }\n    getWeather() {\n      this.loading = true;\n      this.error = null;\n      this.weatherService.getCurrentWeather(this.city).subscribe({\n        next: data => {\n          this.currentWeather = data;\n          this.loading = false;\n        },\n        error: error => {\n          this.error = 'Không thể tải dữ liệu thời tiết. Vui lòng kiểm tra tên thành phố.';\n          this.loading = false;\n          console.error('Error fetching current weather:', error);\n        }\n      });\n      this.weatherService.getForecast(this.city).subscribe({\n        next: data => {\n          this.forecast = data;\n        },\n        error: error => {\n          console.error('Error fetching forecast:', error);\n        }\n      });\n    }\n    onCityChange() {\n      if (this.city.trim()) {\n        this.getWeather();\n      }\n    }\n    getWeatherIcon(icon) {\n      return `https://openweathermap.org/img/wn/${icon}@2x.png`;\n    }\n    getForecastForNextDays() {\n      if (!this.forecast) return [];\n      const today = new Date();\n      const nextDays = [];\n      for (let i = 1; i <= 5; i++) {\n        const targetDate = new Date(today);\n        targetDate.setDate(today.getDate() + i);\n        const dayForecasts = this.forecast.list.filter(item => {\n          const itemDate = new Date(item.dt * 1000);\n          return itemDate.getDate() === targetDate.getDate() && itemDate.getMonth() === targetDate.getMonth();\n        });\n        if (dayForecasts.length > 0) {\n          nextDays.push(dayForecasts[0]);\n        }\n      }\n      return nextDays;\n    }\n    formatDate(timestamp) {\n      const date = new Date(timestamp * 1000);\n      return date.toLocaleDateString('vi-VN', {\n        weekday: 'long',\n        day: 'numeric',\n        month: 'long'\n      });\n    }\n    static {\n      this.ɵfac = function AppComponent_Factory(t) {\n        return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.WeatherService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AppComponent,\n        selectors: [[\"app-root\"]],\n        decls: 13,\n        vars: 5,\n        consts: [[1, \"weather-app\"], [1, \"header\"], [1, \"search-container\"], [\"type\", \"text\", \"placeholder\", \"Nh\\u1EADp t\\u00EAn th\\u00E0nh ph\\u1ED1...\", 1, \"city-input\", 3, \"ngModelChange\", \"keyup.enter\", \"ngModel\"], [1, \"search-btn\", 3, \"click\"], [1, \"main-content\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"error\", 4, \"ngIf\"], [\"class\", \"current-weather\", 4, \"ngIf\"], [\"class\", \"forecast\", 4, \"ngIf\"], [1, \"loading\"], [1, \"spinner\"], [1, \"error\"], [1, \"current-weather\"], [1, \"current-info\"], [1, \"temperature\"], [1, \"temp-value\"], [1, \"weather-details\"], [1, \"weather-icon\", 3, \"src\", \"alt\"], [1, \"weather-desc\"], [1, \"weather-stats\"], [1, \"stat\"], [1, \"stat-label\"], [1, \"stat-value\"], [1, \"forecast\"], [1, \"forecast-list\"], [\"class\", \"forecast-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"forecast-item\"], [1, \"forecast-date\"], [1, \"forecast-weather\"], [1, \"forecast-icon\", 3, \"src\", \"alt\"], [1, \"forecast-desc\"], [1, \"forecast-temps\"], [1, \"temp-max\"], [1, \"temp-min\"]],\n        template: function AppComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"header\", 1)(2, \"h1\");\n            i0.ɵɵtext(3, \"\\uD83C\\uDF24\\uFE0F Weather App\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"div\", 2)(5, \"input\", 3);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_5_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.city, $event) || (ctx.city = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"keyup.enter\", function AppComponent_Template_input_keyup_enter_5_listener() {\n              return ctx.onCityChange();\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"button\", 4);\n            i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_6_listener() {\n              return ctx.onCityChange();\n            });\n            i0.ɵɵtext(7, \"T\\u00ECm ki\\u1EBFm\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(8, \"main\", 5);\n            i0.ɵɵtemplate(9, AppComponent_div_9_Template, 4, 0, \"div\", 6)(10, AppComponent_div_10_Template, 3, 1, \"div\", 7)(11, AppComponent_div_11_Template, 34, 15, \"div\", 8)(12, AppComponent_div_12_Template, 5, 1, \"div\", 9);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.city);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.error);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.currentWeather && !ctx.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.forecast && !ctx.loading);\n          }\n        },\n        dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i2.DecimalPipe],\n        styles: [\"*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#74b9ff,#0984e3);min-height:100vh}.weather-app[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;min-height:100vh}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;color:#fff}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:20px;text-shadow:2px 2px 4px rgba(0,0,0,.3)}.search-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;max-width:400px;margin:0 auto}.city-input[_ngcontent-%COMP%]{flex:1;padding:12px 16px;border:none;border-radius:25px;font-size:16px;outline:none;box-shadow:0 4px 6px #0000001a}.search-btn[_ngcontent-%COMP%]{padding:12px 24px;background:#00b894;color:#fff;border:none;border-radius:25px;cursor:pointer;font-size:16px;font-weight:700;transition:background .3s ease;box-shadow:0 4px 6px #0000001a}.search-btn[_ngcontent-%COMP%]:hover{background:#00a085}.main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px}.loading[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:1.2rem}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error[_ngcontent-%COMP%]{background:#e74c3c;color:#fff;padding:20px;border-radius:10px;text-align:center;font-size:1.1rem;box-shadow:0 4px 6px #0000001a}.current-weather[_ngcontent-%COMP%]{background:#fffffff2;border-radius:20px;padding:30px;box-shadow:0 10px 30px #0003;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.current-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#2d3436;margin-bottom:20px;text-align:center}.temperature[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.temp-value[_ngcontent-%COMP%]{font-size:4rem;font-weight:700;color:#0984e3;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.weather-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.weather-icon[_ngcontent-%COMP%]{width:80px;height:80px}.weather-desc[_ngcontent-%COMP%]{font-size:1.2rem;color:#636e72;text-transform:capitalize;text-align:center}.weather-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px}.stat[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px;background:#f8f9fa;border-radius:10px;box-shadow:0 2px 4px #0000001a}.stat-label[_ngcontent-%COMP%]{color:#636e72;font-weight:500}.stat-value[_ngcontent-%COMP%]{font-weight:700;color:#2d3436;font-size:1.1rem}.forecast[_ngcontent-%COMP%]{background:#fffffff2;border-radius:20px;padding:30px;box-shadow:0 10px 30px #0003;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.forecast[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;color:#2d3436;margin-bottom:20px;text-align:center}.forecast-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px}.forecast-item[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:15px;padding:20px;text-align:center;box-shadow:0 4px 6px #0000001a;transition:transform .3s ease}.forecast-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.forecast-date[_ngcontent-%COMP%]{font-weight:700;color:#2d3436;margin-bottom:10px;font-size:.9rem}.forecast-weather[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;margin-bottom:15px}.forecast-icon[_ngcontent-%COMP%]{width:50px;height:50px}.forecast-desc[_ngcontent-%COMP%]{font-size:.9rem;color:#636e72;text-transform:capitalize}.forecast-temps[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.temp-max[_ngcontent-%COMP%]{font-weight:700;color:#e17055;font-size:1.1rem}.temp-min[_ngcontent-%COMP%]{color:#74b9ff;font-size:1rem}@media (max-width: 768px){.weather-app[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.search-container[_ngcontent-%COMP%]{flex-direction:column;max-width:300px}.temperature[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.temp-value[_ngcontent-%COMP%]{font-size:3rem}.weather-stats[_ngcontent-%COMP%], .forecast-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}\"]\n      });\n    }\n  }\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}